//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using DevExpress.ExpressApp.DC;
using DevExpress.Persistent.Base;
using DevExpress.Persistent.BaseImpl;
using DevExpress.Xpo;
using DevExpress.ExpressApp.ConditionalAppearance;
using Aria5SystemAdmin.Module.BusinessObjects;
using DevExpress.Persistent.Validation;
namespace Aria5SystemAdmin.Module.BusinessObjects
{
  // [Appearance("ProjectTemplate", AppearanceItemType = "ViewItem", TargetItems = "ProjectTemplate", Criteria = "ProjectTemplate!=null", Context = "DetailView", Enabled = false)]
  // [Appearance("Application", AppearanceItemType = "ViewItem", TargetItems = "Application", Criteria = "Application!=null", Context = "DetailView", Enabled = false)]
  // [Appearance("UseCasePoints", AppearanceItemType = "ViewItem", TargetItems = "UseCasePoints", Criteria = "UseCasePoints!=null", Context = "DetailView", Enabled = false)]
  [DefaultClassOptions]
  [RelatedEntity("Aria5-SystemAdmin-QAResourceShare")]
  public partial class QAResourceShare : DevExpress.Persistent.BaseImpl.BaseObject
  {
    private Aria5SystemAdmin.Module.BusinessObjects.Resources _resourceName;
    private Aria5SystemAdmin.Module.BusinessObjects.Department _departmentName;
    private System.Int16 _m0SharePercentage;
    private Aria5SystemAdmin.Module.BusinessObjects.QAUseCasePoints _useCasePoints;
    private Aria5SystemAdmin.Module.BusinessObjects.Application_T _application;
    private System.Int16 _totalShareHours;
    private System.Int16 _m3SharePercentage;
    private System.Int16 _m2SharePercentage;
    private System.Int16 _m1SharePercentage;
    private System.Int16 _capabiltyIndex;
    //private Aria5SystemAdmin.Module.BusinessObjects.Resources _resourceName;
    private Aria5SystemAdmin.Module.BusinessObjects.ProjectTemplate _projectTemplate;
    public QAResourceShare(DevExpress.Xpo.Session session)
      : base(session)
    {
    }
    // Sara.N, Customize Clonning of usecase Points [Start]
    public QAResourceShare(DevExpress.Xpo.Session session, QAResourceShare ResourceShare)
      : base(session)
    {
      this.Application = ResourceShare.Application;
      this.CapabiltyIndex = ResourceShare.CapabiltyIndex;
      this.DepartmentName = ResourceShare.DepartmentName;
      this.M0SharePercentage = ResourceShare.M0SharePercentage;
      this.M1SharePercentage = ResourceShare.M1SharePercentage;
      this.M2SharePercentage = ResourceShare.M2SharePercentage;
      this.M3SharePercentage = ResourceShare.M3SharePercentage;
      this.ResourceName = ResourceShare.ResourceName;
      // this.RolesandResponsabilities = ResourceShare.RolesandResponsabilities;
      this.TotalShareHours = ResourceShare.TotalShareHours;
      // this.TrainingNeeds = ResourceShare.TrainingNeeds;
      this.UseCasePoints = ResourceShare.UseCasePoints;
      foreach (var item in ResourceShare.RolesandResponsabilities.ToList())
      {
        this.RolesandResponsabilities.Add(new QAResourceRoles(session, item));
      }
      foreach (var item in ResourceShare.TrainingNeeds.ToList())
      {
        this.TrainingNeeds.Add(new QAResourseTrainingNeeds(session, item));
      }
    }
    // Sara.N, Customize Clonning of usecase Points [End]
    public Aria5SystemAdmin.Module.BusinessObjects.Application_T Application
    {
      get
      {
        return _application;
      }
      set
      {
        SetPropertyValue("Application", ref _application, value);
      }
    }
    [DevExpress.Persistent.Base.ImmediatePostDataAttribute]
    public System.Int16 M0SharePercentage
    {
      get
      {
        return _m0SharePercentage;
      }
      set
      {
        SetPropertyValue("M0SharePercentage", ref _m0SharePercentage, value);
      }
    }
    [DevExpress.Persistent.Base.ImmediatePostDataAttribute]
    public System.Int16 M1SharePercentage
    {
      get
      {
        return _m1SharePercentage;
      }
      set
      {
        SetPropertyValue("M1SharePercentage", ref _m1SharePercentage, value);
      }
    }
    [DevExpress.Persistent.Base.ImmediatePostDataAttribute]
    public System.Int16 M2SharePercentage
    {
      get
      {
        return _m2SharePercentage;
      }
      set
      {
        SetPropertyValue("M2SharePercentage", ref _m2SharePercentage, value);
      }
    }
    [DevExpress.Persistent.Base.ImmediatePostDataAttribute]
    public System.Int16 M3SharePercentage
    {
      get
      {
        return _m3SharePercentage;
      }
      set
      {
        SetPropertyValue("M3SharePercentage", ref _m3SharePercentage, value);
      }
    }
    public System.Int16 CapabiltyIndex
    {
      get
      {
        return _capabiltyIndex;
      }
      set
      {
        SetPropertyValue("CapabiltyIndex", ref _capabiltyIndex, value);
      }
    }
    //ATA add rule required field attribute to be mandatory 1/5/2017[start]
    //ATA add rule required field attribute to be mandatory 1/5/2017[End]
    [RuleRequiredField]
    public Aria5SystemAdmin.Module.BusinessObjects.Resources ResourceName
    {
      get
      {
        return _resourceName;
      }
      set
      {
        SetPropertyValue("ResourceName", ref _resourceName, value);
      }
    }
    public short TotalShareHours
    {
      get
      {
        // _totalShareHours = (short)(M0SharePercentage + M1SharePercentage + M2SharePercentage + M3SharePercentage);
        return _totalShareHours;
      }
      set
      {
        SetPropertyValue("TotalShareHours", ref _totalShareHours, value);
      }
    }
    //  [DevExpress.Persistent.Base.ImmediatePostDataAttribute]
    [DevExpress.Xpo.AssociationAttribute("ResourceShares-ProjectTemplate")]
    public Aria5SystemAdmin.Module.BusinessObjects.ProjectTemplate ProjectTemplate
    {
      get
      {
        return _projectTemplate;
      }
      set
      {
        SetPropertyValue("ProjectTemplate", ref _projectTemplate, value);
        if (ProjectTemplate != null && _useCasePoints == null)
          _useCasePoints = this.ProjectTemplate.UseCasePoints;
        if (ProjectTemplate != null)
          _application = this.ProjectTemplate.Application;
      }
    }
    //ATA add rule required field attribute to be mandatory 1/5/2017[start]
    //ATA add rule required field attribute to be mandatory 1/5/2017[End]
    [DevExpress.Xpo.AssociationAttribute("ResourceShares-UseCasePoints")]
    [RuleRequiredField]
    public Aria5SystemAdmin.Module.BusinessObjects.QAUseCasePoints UseCasePoints
    {
      get
      {
        //if (ProjectTemplate != null && _useCasePoints==null)
        //_useCasePoints = this.ProjectTemplate.UseCasePoints;
        return _useCasePoints;
      }
      set
      {
        SetPropertyValue("UseCasePoints", ref _useCasePoints, value);
        //if (ProjectTemplate == null && _useCasePoints != null)
        //{
        //  _projectTemplate = this.UseCasePoints.Project;
        //  _application = this.UseCasePoints.Project.Application;
        //}
      }
    }
    //ATA add rule required field attribute to be mandatory 1/5/2017[start]
    //ATA add rule required field attribute to be mandatory 1/5/2017[End]
    [DevExpress.Persistent.Base.ImmediatePostDataAttribute]
    [RuleRequiredField]
    public Aria5SystemAdmin.Module.BusinessObjects.Department DepartmentName
    {
      get
      {
        return _departmentName;
      }
      set
      {
        SetPropertyValue("DepartmentName", ref _departmentName, value);
      }
    }
    [DevExpress.Xpo.AssociationAttribute("TrainingNeeds-QAResourceShare")]
    public XPCollection<Aria5SystemAdmin.Module.BusinessObjects.QAResourseTrainingNeeds> TrainingNeeds
    {
      get
      {
        return GetCollection<Aria5SystemAdmin.Module.BusinessObjects.QAResourseTrainingNeeds>("TrainingNeeds");
      }
    }
    [DevExpress.Xpo.AssociationAttribute("RolesandResponsabilities-QAResourceShare")]
    public XPCollection<Aria5SystemAdmin.Module.BusinessObjects.QAResourceRoles> RolesandResponsabilities
    {
      get
      {
        return GetCollection<Aria5SystemAdmin.Module.BusinessObjects.QAResourceRoles>("RolesandResponsabilities");
      }
    }
  }
}
