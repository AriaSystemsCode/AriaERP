//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using DevExpress.ExpressApp.DC;
using DevExpress.Persistent.Base;
using DevExpress.Persistent.BaseImpl;
using DevExpress.Xpo;
using DevExpress.ExpressApp.ConditionalAppearance;
using DevExpress.ExpressApp.Security;
using DevExpress.ExpressApp;
using DevExpress.Persistent.Validation;
namespace Aria5SystemAdmin.Module.BusinessObjects
{
  // [Appearance("ProjectTemplate", AppearanceItemType = "ViewItem", TargetItems = "ProjectTemplate,Application", Criteria = "ProjectTemplate!=null", Context = "DetailView", Enabled = false)]
  // [Appearance("disable_Actions", Context = "DetailView", AppearanceItemType = "Action", TargetItems = " Edit", Enabled = false, Criteria = "Enddate < DateTime.Today")]
  //ATA unlock all objects cause of error ("The object you are trying to save was changed by another user. Please refresh data. ClassName: Aria5SystemAdmin.Module.BusinessObjects.Account. ID: 10272a1e-cb80-4c8a-9e3a-b4cb4334814c") [start]
  //ATA unlock all objects cause of error ("The object you are trying to save was changed by another user. Please refresh data. ClassName: Aria5SystemAdmin.Module.BusinessObjects.Account. ID: 10272a1e-cb80-4c8a-9e3a-b4cb4334814c") [End]
  [Appearance("EndDate", AppearanceItemType = "ViewItem", TargetItems = "Enddate", Criteria = "!IsCurrentUserInRole('IterationAdmin')", Context = "DetailView", Enabled = false)]
  [DefaultClassOptions]
  [RelatedEntity("Aria5-SystemAdmin-QAUseCase")]
  [XafDefaultProperty("Name")]
  [OptimisticLocking(OptimisticLockingBehavior.NoLocking)]
  public partial class QAUseCase : DevExpress.Persistent.BaseImpl.BaseObject
  {
    private Aria5SystemAdmin.Module.BusinessObjects.Application_T _application;
    private System.Int16 _size;
    private System.String _createdBy;
    private System.DateTime _creationDate;
    private System.String _actors;
    private Requirement _Requirement;
    private Aria5SystemAdmin.Module.BusinessObjects.ProjectTemplate _projectTemplate;
    /*ATA ,1,bgn,15/3/2016, Baselineflag , add 2 new attribute to calcuate end date,
        and disable or enable edit or delet for this enddate property according to loginuser  
        */private System.DateTime _enddate;
    private Statues? _statues;
    //[NonPersistent]
    //[DevExpress.Persistent.Base.VisibleInDetailViewAttribute(false)]
    //[DevExpress.Persistent.Base.VisibleInListViewAttribute(false)]
    //[DevExpress.Persistent.Base.VisibleInLookupListViewAttribute(false)]
    //public string LoginUser { get; set; }
    //ATA , end 
    public QAUseCase(DevExpress.Xpo.Session session)
      : base(session)
    {
      //  var LoginUser = (((AuthenticationStandardLogonParameters)SecuritySystem.LogonParameters).UserName).ToUpper();
      //ATA get login user ,14/3/2016
      // LoginUser = SecuritySystem.CurrentUserName.Trim().ToUpper();
      //ATA , end 
    }
    private System.String _ID;
    private System.String _Name;
    private System.String _Description;
    private System.String _Notes;
    [Size(1000)]
    public System.String Notes
    {
      get
      {
        return _Notes;
      }
      set
      {
        SetPropertyValue("Notes", ref _Notes, value);
      }
    }
    [Size(200)]
    private System.String _Trigger;
    //ATA add rule required field attribute to be mandatory 1/5/2017[start]
    //ATA add rule required field attribute to be mandatory 1/5/2017[End]
    [RuleRequiredField]
    public System.String Trigger
    {
      get
      {
        return _Trigger;
      }
      set
      {
        SetPropertyValue("Trigger", ref _Trigger, value);
      }
    }
    private System.String _Preconditions;
    //ATA add rule required field attribute to be mandatory 1/5/2017[start]
    //ATA add rule required field attribute to be mandatory 1/5/2017[End]
    [Size(1000)]
    [RuleRequiredField]
    public System.String Preconditions
    {
      get
      {
        return _Preconditions;
      }
      set
      {
        SetPropertyValue("Preconditions", ref _Preconditions, value);
      }
    }
    private System.String _PostConditions;
    //ATA add rule required field attribute to be mandatory 1/5/2017[start]
    //ATA add rule required field attribute to be mandatory 1/5/2017[End]
    [Size(1000)]
    [RuleRequiredField]
    public System.String PostConditions
    {
      get
      {
        return _PostConditions;
      }
      set
      {
        SetPropertyValue("PostConditions", ref _PostConditions, value);
      }
    }
    // [Indexed(Unique = true)]
    //ATA add rule required field attribute to be mandatory 1/5/2017[start]
    //ATA add rule required field attribute to be mandatory 1/5/2017[End]
    [Size(200)]
    [RuleRequiredField]
    public System.String ID
    {
      get
      {
        return _ID;
      }
      set
      {
        SetPropertyValue("ID", ref _ID, value);
      }
    }
    //ATA add rule required field attribute to be mandatory 1/5/2017[start]
    //ATA add rule required field attribute to be mandatory 1/5/2017[End]
    [Size(200)]
    [RuleRequiredField]
    public System.String Name
    {
      get
      {
        return _Name;
      }
      set
      {
        SetPropertyValue("Name", ref _Name, value);
      }
    }
    [Size(4000)]
    [RuleRequiredField]
    public System.String Description
    {
      get
      {
        return _Description;
      }
      set
      {
        SetPropertyValue("Description", ref _Description, value);
      }
    }
    [DevExpress.Xpo.AssociationAttribute("QAUseCases-ProjectTemplate")]
    [DevExpress.Persistent.Base.ImmediatePostDataAttribute]
    public Aria5SystemAdmin.Module.BusinessObjects.ProjectTemplate ProjectTemplate
    {
      get
      {
        if (_projectTemplate != null)
        {
          this.Application = _projectTemplate.Application;
          //ATA, 1,bgn,15/3/2016,check if _enddate not calculated and it is assign to a project then calculate it according to project type 
          if (this._enddate == DateTime.MinValue)
          {
            if (_projectTemplate.Type.ToString() == "Key")
            {
              this._enddate = CalcEndate.CalcEnddate(_projectTemplate.StartDate, 2);
            }
            else
            {
              this.Enddate = _projectTemplate.EndDate;
            }
          }
          //ATA ,end ,
        }
        return _projectTemplate;
      }
      set
      {
        SetPropertyValue("ProjectTemplate", ref _projectTemplate, value);
      }
    }
    //ATA add rule required field attribute to be mandatory 1/5/2017[start]
    //ATA add rule required field attribute to be mandatory 1/5/2017[End]
    [Size(200)]
    [RuleRequiredField]
    public System.String Actors
    {
      get
      {
        return _actors;
      }
      set
      {
        SetPropertyValue("Actors", ref _actors, value);
      }
    }
    //ATA ,1,bgn 15/3/2016 add new property end date to calculate the edit end date for this usecase 
    public System.DateTime Enddate
    {
      get
      {
        return _enddate;
      }
      set
      {
        SetPropertyValue("Enddate", ref _enddate, value);
      }
    }
    //ATA end 
    public System.String CreatedBy
    {
      get
      {
        return _createdBy;
      }
      set
      {
        SetPropertyValue("CreatedBy", ref _createdBy, value);
      }
    }
    public System.DateTime CreationDate
    {
      get
      {
        return _creationDate;
      }
      set
      {
        SetPropertyValue("CreationDate", ref _creationDate, value);
      }
    }
    [DevExpress.Xpo.AssociationAttribute("QAProjectEntities-QAUseCases")]
    public XPCollection<Aria5SystemAdmin.Module.BusinessObjects.QAProjectEntity> ProjectEntities
    {
      get
      {
        return GetCollection<Aria5SystemAdmin.Module.BusinessObjects.QAProjectEntity>("ProjectEntities");
      }
    }
    [DevExpress.Xpo.AssociationAttribute("QAUseCaseFlows-QAUseCase")]
    [DevExpress.Xpo.AggregatedAttribute]
    public XPCollection<Aria5SystemAdmin.Module.BusinessObjects.QAUseCaseFlow> UseCaseFlows
    {
      get
      {
        return GetCollection<Aria5SystemAdmin.Module.BusinessObjects.QAUseCaseFlow>("UseCaseFlows");
      }
    }
    [DevExpress.Xpo.AssociationAttribute("TestCases-QAUseCase")]
    [DevExpress.Xpo.AggregatedAttribute]
    public XPCollection<Aria5SystemAdmin.Module.BusinessObjects.TestCase> TestCases
    {
      get
      {
        return GetCollection<Aria5SystemAdmin.Module.BusinessObjects.TestCase>("TestCases");
      }
    }
    [DevExpress.Xpo.AssociationAttribute("Comments-QAUseCase")]
    [DevExpress.Xpo.AggregatedAttribute]
    public XPCollection<Aria5SystemAdmin.Module.BusinessObjects.Comments> Comments
    {
      get
      {
        return GetCollection<Aria5SystemAdmin.Module.BusinessObjects.Comments>("Comments");
      }
    }
    [DevExpress.Xpo.AssociationAttribute("Attachements-QAUseCase")]
    [DevExpress.Xpo.AggregatedAttribute]
    public XPCollection<Aria5SystemAdmin.Module.BusinessObjects.QAAttachement> Attachements
    {
      get
      {
        return GetCollection<Aria5SystemAdmin.Module.BusinessObjects.QAAttachement>("Attachements");
      }
    }
    [RuleRequiredField]
    [DevExpress.Xpo.AssociationAttribute("QAUseCases-Requirement")]
    [DataSourceProperty("ProjectTemplate.Requirements")]
    [DataSourceCriteria("RequirementType.Name != 'Feature'")]
    public Aria5SystemAdmin.Module.BusinessObjects.Requirement Requirement
    {
      get
      {
        return _Requirement;
      }
      set
      {
        SetPropertyValue("Requirement", ref _Requirement, value);
      }
    }
    [DevExpress.Persistent.Base.ImmediatePostDataAttribute]
    [DevExpress.Xpo.AssociationAttribute("QAUseCases-Application")]
    public Aria5SystemAdmin.Module.BusinessObjects.Application_T Application
    {
      get
      {
        return _application;
      }
      set
      {
        SetPropertyValue("Application", ref _application, value);
      }
    }
    private XPCollection<AuditDataItemPersistent> changeHistory;
    public XPCollection<AuditDataItemPersistent> ChangeHistory
    {
      get
      {
        if (changeHistory == null)
        {
          changeHistory = AuditedObjectWeakReference.GetAuditTrail(Session, this);
        }
        return changeHistory;
      }
    }
    public System.Int16 Size
    {
      get
      {
        return _size;
      }
      set
      {
        SetPropertyValue("Size", ref _size, value);
      }
    }
    //ATA set the default of enum field to be null and required in all iteration screen 1/11/2017 [start]
    [RuleRequiredField]
    public Statues? UseCase_Statues
    {
      //ATA set the default of enum field to be null and required in all iteration screen 1/11/2017 [End]
      get
      {
        return _statues;
      }
      set
      {
        SetPropertyValue("UseCase_Statues", ref _statues, value);
      }
    }
    public enum Statues
    {
      New,
      Cancel,
      InWork,
      Complete
    }
    //ATA add new approval status field [Start]
    private ApproveStatu _approvestatus;
    public ApproveStatu ApproveStatus
    {
      get
      {
        return _approvestatus;
      }
      set
      {
        SetPropertyValue("ApproveStatus", ref _approvestatus, value);
      }
    }
    public enum ApproveStatu
    {
      New,
      Ready
    }
    //ATA add new approval status field 1/11/2017 [End]
  }
}
